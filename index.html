<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flipkart Clone</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #product-list {
            display: flex;
            flex-wrap: wrap;
        }
        .product {
            border: 1px solid #ccc;
            padding: 20px;
            margin: 10px;
            width: 200px;
            text-align: center;
        }
        .product img {
            max-width: 100%;
            height: auto;
        }
        .form-container {
            margin-bottom: 20px;
        }
        input, button {
            padding: 10px;
            margin: 5px;
            width: 100%;
        }
        .nav-bar {
            margin-bottom: 20px;
        }
        .nav-bar a {
            margin: 0 10px;
            text-decoration: none;
            color: #007BFF;
        }
        .page {
            display: none;
        }
        .active {
            display: block;
        }
        .pagination {
            text-align: center;
            margin-top: 20px;
        }
        .pagination button {
            padding: 10px;
            margin: 5px;
            background-color: #007BFF;
            color: white;
            border: none;
            cursor: pointer;
        }
        .pagination button:disabled {
            background-color: #ccc;
        }
    </style>
    <script>
        let products = [];  // Simulating a list of all products
        let currentPage = 1;  // Current page number
        const productsPerPage = 9;  // Number of products per page

        // Simulating fetching products with images
        async function fetchProducts() {
            // Normally, this data would come from a backend API (Flask)
            products = [];
            for (let i = 1; i <= 50; i++) {
                products.push({
                    name: `Product ${i}`,
                    description: `Description of product ${i}`,
                    price: Math.random() * 1000,
                    image: `https://via.placeholder.com/200?text=Product+${i}`  // Using placeholder images
                });
            }
            displayProducts();
        }

        // Function to display products based on the current page
        function displayProducts() {
            let startIndex = (currentPage - 1) * productsPerPage;
            let endIndex = startIndex + productsPerPage;
            let productsToDisplay = products.slice(startIndex, endIndex);

            let productList = document.getElementById("product-list");
            productList.innerHTML = ""; // Clear previous content

            productsToDisplay.forEach(product => {
                let productDiv = document.createElement("div");
                productDiv.classList.add("product");
                productDiv.innerHTML = `
                    <img src="${product.image}" alt="${product.name}">
                    <h3>${product.name}</h3>
                    <p>${product.description}</p>
                    <p>Price: â‚¹${product.price.toFixed(2)}</p>
                `;
                productList.appendChild(productDiv);
            });

            // Update pagination buttons
            updatePagination();
        }

        // Function to handle page navigation
        function updatePagination() {
            let totalPages = Math.ceil(products.length / productsPerPage);

            // Show or hide the "Previous" and "Next" buttons
            document.getElementById("prev-button").disabled = currentPage === 1;
            document.getElementById("next-button").disabled = currentPage === totalPages;

            // Display current page number
            document.getElementById("page-number").innerText = `Page ${currentPage} of ${totalPages}`;
        }

        // Function to go to the next page
        function nextPage() {
            if (currentPage * productsPerPage < products.length) {
                currentPage++;
                displayProducts();
            }
        }

        // Function to go to the previous page
        function prevPage() {
            if (currentPage > 1) {
                currentPage--;
                displayProducts();
            }
        }

        // Function to show a specific page (either Home or Admin)
        function showPage(page) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(page).classList.add('active');
        }

        // Function to add a new product
        async function addProduct(event) {
            event.preventDefault(); // Prevent the form from reloading the page

            const name = document.getElementById("product-name").value;
            const description = document.getElementById("product-description").value;
            const price = document.getElementById("product-price").value;
            const image = document.getElementById("product-image").value;

            const newProduct = {
                name: name,
                description: description,
                price: parseFloat(price),
                image: image // Allowing user to input an image URL
            };

            // In a real application, here we would send this data to a backend API
            products.push(newProduct); // Simulate adding product to the list
            alert("Product added successfully!");
            showPage('home'); // Switch back to home page
            displayProducts(); // Refresh product list
        }

        window.onload = function() {
            // Initially, show the home page and load the products
            showPage('home');
            fetchProducts();
        }
    </script>
</head>
<body>
    <!-- Navigation Bar -->
    <div class="nav-bar">
        <a href="javascript:void(0);" onclick="showPage('home')">Home</a>
        <a href="javascript:void(0);" onclick="showPage('admin')">Admin</a>
    </div>

    <!-- Home Page (Product List) -->
    <div id="home" class="page active">
        <h1>Welcome to Flipkart Clone</h1>
        <h2>Available Products</h2>
        <div id="product-list"></div>

        <!-- Pagination -->
        <div class="pagination">
            <button id="prev-button" onclick="prevPage()">Previous</button>
            <span id="page-number">Page 1 of 1</span>
            <button id="next-button" onclick="nextPage()">Next</button>
        </div>
    </div>

    <!-- Admin Page (Add Product) -->
    <div id="admin" class="page">
        <h1>Admin - Add a New Product</h1>
        <div class="form-container">
            <form id="add-product-form" onsubmit="addProduct(event)">
                <input type="text" id="product-name" placeholder="Product Name" required>
                <input type="text" id="product-description" placeholder="Product Description" required>
                <input type="number" id="product-price" placeholder="Product Price" required>
                <input type="text" id="product-image" placeholder="Product Image URL" required>
                <button type="submit">Add Product</button>
            </form>
        </div>
    </div>
</body>
</html>
